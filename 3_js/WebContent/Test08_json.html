<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">


<title>JSON</title>

<link rel="stylesheet" href="./css/table.css">


<style type="text/css">

#result{
	width: 500px;
	height: 300px;
	border: 2px solid gray;

}
</style>


</head>
<body>

<h3>JSON</h3>

<button onclick="getData()">Data 가져오기</button> <br/><br/>

<div id="result"></div>


<script type="text/javascript">

const log = console.log;

//JavaScript 객체 생성
let data1 = {name: "김주현", age: 25};
let data2 = {"name": "김주현", "age": "25"};

let s1 = JSON.stringify(data1); 
// -> 결과 보면 key값에 "" 안했는데도 생성된 string 객체에 "" 되어있는걸 알 수 있음 => JSON 객체가 되려면 필요하니까!
let s2 = JSON.stringify(data2);

log(typeof(s1)," / ", s1);

let obj1 = JSON.parse(s1);
let obj2 = JSON.parse(s2);

log(obj1.name);
log(obj2.age);

// ---check 하기----

//key 값 "" 안함
let sample1 = '{name: "김주현", age: 25}';
//key 값 "" 함
let sample2 = '{"name": "김주현", "age": 25}';

//let sample1_obj = JSON.parse(sample1); -> 에러남 (key값에 double quotation 안해서)
let sample2_obj = JSON.parse(sample2);

//확인해보기
//log(sample1_obj);   -> 에러남 (key값에 double quotation 안해서)
log(sample2_obj);

let student = {
		name: "홍길동",
		ko: 99,
		eng: 100,
		flag:true,
		u:null
}
// -> JSON은 boolean, null 다 인식함!


let studentStr = JSON.stringify(student);

let data3 = [
	{"name": "김주현", "age": "25"},
	{"name": "김덕현", "age": "26"},
	{"name": "덕쨩", "age": "25"}
]

let s3 = JSON.stringify(data3);
//alert(s3);
let obj3 = JSON.parse(s3);

//obj3을 table 구조로 만들어서 #result에 출력
function getData(){
	let disp = document.getElementById("result");
	disp.innerHTML = "";
	
	let tag="<br/><table class='tablea'>";
	tag += "<tr><th>이 름 </th> <th>나 이</th></tr>";
	
	//ver1) forEach
	obj3.forEach(data => {
		
		tag+= "<tr><td> ";
		tag+= data.name;
		tag+= " </td><td> ";
		tag+= data.age;
		tag+= " </td></tr>";
	});
	
	//ver2) 새로나온 for문
	/* 
	for(let data of obj3){
		
		tag+= "<tr><td> "
		tag+= data.name;
		tag+= " </td><td> ";
		tag+= data.age;
		tag+= " </td></tr>"
	}
	 */
	tag += "</table>";	
	disp.innerHTML = tag;
}

</script>

</body>
</html>