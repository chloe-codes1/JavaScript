<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">


<title>JavaScript Date p343</title>
</head>
<body>

<h3>JavaScript Date p343</h3>

<!-- 현재 시간 뿌려주는거 만들어보기 -->

	<div>
	구입날짜 : <input type="date" id="pdate" name="pdate" required="required"> <br><br>
	환불가능 : Check : <button onclick="check()"> check </button>
	
	</div>

</body>


<script type="text/javascript">
const log = console.log;
let days;

function check() {
	let p = document.getElementById('pdate').value;
	let now = new Date();
	let pdate = new Date(p);
	
	if(now < pdate){
		alert("날짜를 다시 선택하세요~!");
		return false;
	}
	
	
	//days는 local variable이라서 check()함수 밖에서 사용 못함 -> 그래서 밖에서뺐다! => scope
	days = Math.floor((now - pdate)/(1000*60*60*24));
	log(days);
	

	
	if(days>30) {
		alert("교환/환불 가능 기간이 지났습니다.\n(구매 후 30일 이내인 제품만 교환/환불 가능)")
	}else {
		alert("교환/환불 가능한 제품입니다.")
}
}

</script>

</html>